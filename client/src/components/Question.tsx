'use client'

import { ReactElement, useState } from "react";

import classes from "@/styles/Question.module.css";

export default function Question({ question, answer }: { question: string, answer: string }): ReactElement {
  const [opened, setOpened] = useState(false);

  return (
    <div className={ classes.questionBlock }>
      <div className={ classes.topLine }>
        <h2 className={ classes.questionTitle }>{ question }</h2>
        {
          !opened
          ? <button
            className={ classes.openButton }
            onClick={() => {
              setOpened(true)
            }}>
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M11.0001 29.3334H19.0001C26.2401 29.3334 29.3334 26.2401 29.3334 19.0001V11.0001C29.3334 3.76008 26.2401 0.666748 19.0001 0.666748H11.0001C3.76008 0.666748 0.666748 3.76008 0.666748 11.0001V19.0001C0.666748 26.2401 3.76008 29.3334 11.0001 29.3334ZM2.66675 11.0001C2.66675 4.85341 4.85341 2.66675 11.0001 2.66675H19.0001C25.1467 2.66675 27.3334 4.85341 27.3334 11.0001V19.0001C27.3334 25.1467 25.1467 27.3334 19.0001 27.3334H11.0001C4.85341 27.3334 2.66675 25.1467 2.66675 19.0001V11.0001ZM14.2934 18.5868C14.4934 18.7868 14.7467 18.8801 15.0001 18.8801C15.2534 18.8801 15.5067 18.7868 15.7067 18.5868L20.4134 13.8801C20.8001 13.4934 20.8001 12.8534 20.4134 12.4668C20.0267 12.0801 19.3867 12.0801 19.0001 12.4668L15.0001 16.4668L11.0001 12.4668C10.6134 12.0801 9.9734 12.0801 9.58674 12.4668C9.20007 12.8534 9.20007 13.4934 9.58674 13.8801L14.2934 18.5868Z" fill="#333333"/>
            </svg>
          </button>
          : <button
            className={ classes.closeButton }
            onClick={() => {
              setOpened(false)
            }}>
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fillRule="evenodd" clipRule="evenodd" d="M19 0.666584L11 0.666584C3.75999 0.666584 0.66666 3.75992 0.66666 10.9999L0.66666 18.9999C0.66666 26.2399 3.75999 29.3333 11 29.3333L19 29.3333C26.24 29.3333 29.3333 26.2399 29.3333 18.9999L29.3333 10.9999C29.3333 3.75992 26.24 0.666584 19 0.666584ZM27.3333 18.9999C27.3333 25.1466 25.1467 27.3333 19 27.3333L11 27.3333C4.85333 27.3333 2.66666 25.1466 2.66666 18.9999L2.66666 10.9999C2.66666 4.85325 4.85333 2.66658 11 2.66658L19 2.66658C25.1467 2.66658 27.3333 4.85325 27.3333 10.9999L27.3333 18.9999ZM15.7067 11.4132C15.5067 11.2132 15.2533 11.1199 15 11.1199C14.7467 11.1199 14.4933 11.2132 14.2933 11.4132L9.58667 16.1199C9.2 16.5066 9.2 17.1466 9.58667 17.5332C9.97334 17.9199 10.6133 17.9199 11 17.5332L15 13.5332L19 17.5332C19.3867 17.9199 20.0267 17.9199 20.4133 17.5332C20.8 17.1466 20.8 16.5066 20.4133 16.1199L15.7067 11.4132Z" fill="#333333"/>
            </svg>
          </button>
        }
      </div>
      {
        opened
        && <span className={ classes.text }>
          { answer }
        </span>
      }
    </div>
  )
}